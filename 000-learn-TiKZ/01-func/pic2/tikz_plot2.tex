\documentclass[border=5pt]{standalone}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{amsmath}
\tikzset{elegant/.style={smooth,thick,samples=50}}

\begin{document}
        \begin{tikzpicture}
            \draw[->] (-4.5,0) -- (12.5,0) node[below]{$x$};
            \draw[->] (0,-3) -- (0,5) node[right=2pt] {$y=f(x)$};
            \fill (0,1) circle (2pt) node[left]{$1$};
            \draw (0,4) node[left]{$4$};
            \draw[dashed] (0,4) -- (10,4);
            \draw[dashed] (0,2) -- (12,2);
            \draw (0,2) -- (2,4) -- (4,2);
            \draw (0,0) -- (-2,-2) -- (-4,0);
            \draw[dashed] (-2,-2) -- (6,-2);
            \draw (0,-2) node[right]{$-2$};
            \fill (4,1) circle (2pt);
            \draw (4,0) -- (6,-2) -- (8,0);
            \draw (8,2) -- (10,4) -- (12,2);
            \fill (8,1) circle (2pt);
            \fill (12,1) circle (2pt);
            \draw[fill=white] (0,0) circle (2pt) node[below right]{$O$};
            \draw[fill=white] (0,2) circle (2pt) node[left]{$2$};
            \draw[fill=white] (4,2) circle (2pt);
            \draw[fill=white] (-4,0) circle (2pt);
            \draw[fill=white] (4,0) circle (2pt);
            \draw[fill=white] (8,0) circle (2pt);
            \draw[fill=white] (8,2) circle (2pt);
            \draw[fill=white] (12,2) circle (2pt);
        \end{tikzpicture}
\end{document}
